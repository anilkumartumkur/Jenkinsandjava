name: JavaHelloWorld
on: 
 push: 
  branches:
   - main
jobs: 
 build: 
  runs-on: self-hosted 
  steps: 
    - name: checkout
      uses: actions/checkout@v3
    - name: Set up JDK 17 
      uses: actions/setup-java@v4
      with:
        java-version: '17'
        distribution: 'temurin'
    - name: Install Maven
      run: sudo apt install maven -y
    - name: Create the binary file
      run: mvn package
    - name: aws installation
      run: |
          set -e
          echo "Installing AWS CLI..."
          sudo apt update && sudo apt install -y unzip curl
          curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
          rm -rf aws
          unzip -q awscliv2.zip
          sudo ./aws/install --update
          aws --version
     
